<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>

  
    <input type="text" id="tbCalc" /><p>
    <input type="button" value="0" id="btn0" onclick="fNum(this)" />
    <input type="button" value="1" id="btn1" onclick="fNum(this)" />
    <input type="button" value="2" id="btn2" onclick="fNum(this)" />
    <input type="button" value="3" id="btn3" onclick="fNum(this)" />
    <input type="button" value="4" id="btn4" onclick="fNum(this)" />
<p>
    <input type="button" value="5" id="btn5" onclick="fNum(this)" />
    <input type="button" value="6" id="btn6" onclick="fNum(this)" />
    <input type="button" value="7" id="btn7" onclick="fNum(this)" />
    <input type="button" value="8" id="btn8" onclick="fNum(this)" />
    <input type="button" value="9" id="btn9" onclick="fNum(this)" />
	
<p>

    <input type="button" value="+" id="btnPlus" onclick="fOp(this)" />
    <input type="button" value="-" id="btnMinus" onclick="fOp(this)" />
    <input type="button" value="*" id="btnMult" onclick="fOp(this)" />
    <input type="button" value="/" id="btnDiv" onclick="fOp(this)" />
    <input type="button" value="=" id="btnRes" onclick="fOp(this)" />


    <script type="text/javascript">

        var aTxt;
        var bTxt;
        var opStr;


        function fNum(p)
        {
            tbCalc.value += p.value;
        }

        function fOp(p)
        {
            if (p.value == '=')
            {
                var aNum = parseInt(aTxt);
                var bNum = parseInt(tbCalc.value);
                var oPer = opStr;
                var res = CalcN(aNum, bNum, oPer);
                tbCalc.value = res;
            }
            else
            {
                aTxt = tbCalc.value;
                tbCalc.value = "";
                opStr = p.value;
            }
        }

        function CalcN(a1, a2, op)
        {
            var req = "num1="+a1+"&num2="+a2+"&opr="+op;
            var rr = new XMLHttpRequest();
            rr.open('GET', 'Calc.php?'+req, false);
            rr.onload = function (e) {
                if (rr.readyState == 4 && rr.status == 200) {
                    $res = rr.responseText;
                }
            };
            rr.send(null);
            return $res;

        };

        function Calc(a1, a2, op) {
            var res;
            switch (op) {
                case "*":
                    res = a1 * a2;
                    break;
                case "+":
                    res = a1 + a2;
                    break;
                case "-":
                    res = a1 - a2;
                    break;
                case "/":
                    res = a1 / a2;
                    break;
                default:
                    res = 0;
                    break;
            }
            return res;
        };
    </script>

</body>
</html>
